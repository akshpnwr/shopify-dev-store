<div class="flex flex-col items-center my-8">
  {% if section.settings.title != blank %}
    <h1 class="text-3xl font-medium my-8 md:my-16">{{ section.settings.title }}</h1>
  {% endif %}
  {% form 'contact'
    , class: 'w-full max-w-lg' %}
    {% if form.errors %}
      <div class="border p-5">
        <div class="flex flex-row items-center w-full my-3">
          <div class="text-red-500">
            {% render 'icon-failed' %}
          </div>
          <div class="text-sm font-medium ml-3">
            Oh no! Your message was not sent
          </div>
        </div>
        <ul class="px-4 mb-3 ml-7 list-decimal">
          {% for error in form.errors %}
            <li>
              <span>{{ form.errors.messages[error] }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% elsif form.posted_successfully? %}
      <div class="flex flex-row items-center w-full my-3 p-5">
        <div class="text-green-500">
          {% render 'icon-success' %}
        </div>
        <div class="text-sm font-medium ml-3">Message sent successfully</div>
      </div>
    {% endif %}
    <label for="contactName" class="block text-sm font-medium text-gray-700">Name</label>
    <input
      type="text"
      name="contact[name]"
      id="contactName"
      class="mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
      placeholder="Your name">

    <label for="contactEmail" class="block text-sm font-medium mt-4 text-gray-700">Email</label>
    <input
      type="email"
      name="contact[email]"
      id="contactEmail"
      class="mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
      placeholder="you@example.com">

    <label for="contactMessage" class="block text-sm font-medium mt-4 text-gray-700">Message</label>
    <textarea
      name="contact[message]"
      id="contactMessage"
      class="mt-1 p-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
      placeholder="Your message"></textarea>

    <input type="submit" class="mt-4 block mx-auto justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" />

  {% endform %}
</div>

{% schema %}
  {
    "name": "Contact Form",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      }
    ],
    "presets": [
      {
        "name": "Contact form"
      }
    ]
  }
{% endschema %}